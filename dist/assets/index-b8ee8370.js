import{g as q,r as Z,a as ee,c as v,p as fe,o as de,b as ve,w as D,n as J,d as h,e as g,f as b,h as X,i as N,j as Y,F as k,k as E,l as he,m as me,q as pe,u as ge,s as ye,t as O,v as K,x as V}from"./index-c2b3be01.js";import{_ as we}from"./index-b43eb5c5.js";import{g as Q}from"./index-0ffe3253.js";import{u as $e,h as Te}from"./const-2dea1de2.js";import{_ as te,c as ne,a as F}from"./$plugin-vue_export-helper-cc2b3d55-5d82caf3.js";function oe(t){const s=q();s&&Object.assign(s.proxy,t)}const B=window;function be(){return typeof B<"u"?B.requestAnimationFrame||B.webkitRequestAnimationFrame||function(t){B.setTimeout(t,1e3/60)}:function(t){setTimeout(t,1e3/60)}}const I=be(),{create:Se,componentName:j}=ne("swiper"),Ne=Se({props:{width:{type:[Number,String],default:window.innerWidth},height:{type:[Number,String],default:0},direction:{type:String,default:"horizontal"},paginationVisible:{type:Boolean,default:!1},paginationColor:{type:String,default:"#fff"},loop:{type:Boolean,default:!0},duration:{type:[Number,String],default:500},autoPlay:{type:[Number,String],default:0},initPage:{type:[Number,String],default:0},touchable:{type:Boolean,default:!0},isPreventDefault:{type:Boolean,default:!0},isStopPropagation:{type:Boolean,default:!0}},emits:["change"],setup(t,{emit:s,slots:l}){const m=Z(),e=ee({active:0,num:0,rect:null,width:0,height:0,moving:!1,offset:0,touchTime:0,autoplayTimer:null,children:[],childrenVNode:[],style:{}}),f=$e(),d=v(()=>({[j]:!0})),o=v(()=>t.direction==="vertical"),y=v(()=>{const n=j;return{[`${n}-inner`]:!0,[`${n}-vertical`]:o.value}}),x=v(()=>{const n=j;return{[`${n}-pagination`]:!0,[`${n}-pagination-vertical`]:o.value}}),p=v(()=>o.value?f.deltaY.value:f.deltaX.value),P=v(()=>f.direction.value===t.direction),i=v(()=>e.children.length),$=v(()=>e[o.value?"height":"width"]),L=v(()=>i.value*$.value),_=v(()=>e.rect?(o.value?e.rect.height:e.rect.width)-$.value*i.value:0),R=v(()=>(e.active+i.value)%i.value),A=()=>{let n=0;n=e.offset,e.style={transitionDuration:`${e.moving?0:t.duration}ms`,transform:`translate${o.value?"Y":"X"}(${n}px)`,[o.value?"height":"width"]:`${$.value*i.value}px`,[o.value?"width":"height"]:`${o.value?e.width:e.height}px`}},ae=n=>{var r;let u=[];const c=e.childrenVNode.length;let w=(r=l==null?void 0:l.default)==null?void 0:r.call(l);if(w=w.filter(a=>a.children&&Array.isArray(a.children)),w.forEach(a=>{u=u.concat(a.children)}),!c)e.childrenVNode=u.slice(),n.proxy&&e.children.push(n.proxy);else if(c>u.length)e.children=e.children.filter(a=>n.proxy!==a);else if(c<u.length){for(let a=0;a<c;a++)if(u[a].key!==e.childrenVNode[a].key){n.proxy&&e.children.splice(a,0,n.proxy),n.vnode&&e.childrenVNode.splice(a,0,n.vnode);break}c!==u.length&&(n.proxy&&e.children.push(n.proxy),n.vnode&&e.childrenVNode.push(n.vnode))}else e.childrenVNode=u.slice(),n.proxy&&e.children.push(n.proxy)},U=(n,r=0)=>{let u=n*$.value;t.loop||(u=Math.min(u,-_.value));let c=r-u;return t.loop||(c=F(c,_.value,0)),c},ie=n=>{const{active:r}=e;return n?t.loop?F(r+n,-1,i.value):F(r+n,0,i.value-1):r},T=({pace:n=0,offset:r=0,isEmit:u=!1})=>{if(i.value<=1)return;const{active:c}=e,w=ie(n),a=U(w,r);if(t.loop){if(e.children[0]&&a!==_.value){const z=a<_.value;e.children[0].setOffset(z?L.value:0)}if(e.children[i.value-1]&&a!==0){const z=a>0;e.children[i.value-1].setOffset(z?-L.value:0)}}e.active=w,e.offset=a,u&&c!==e.active&&s("change",R.value),A()},M=()=>{e.moving=!0,e.active<=-1&&T({pace:i.value}),e.active>=i.value&&T({pace:-i.value})},S=()=>{e.autoplayTimer&&clearTimeout(e.autoplayTimer)},W=n=>{M(),f.reset(),I(()=>{I(()=>{e.moving=!1,T({pace:n,isEmit:!0})})})},se=()=>{W(-1)},G=()=>{W(1)},le=n=>{M(),f.reset(),I(()=>{e.moving=!1;let r;t.loop&&i.value===n?r=e.active===0?0:n:r=n%i.value,T({pace:r-e.active,isEmit:!0})})},C=()=>{t.autoPlay<=0||i.value<=1||(S(),e.autoplayTimer=setTimeout(()=>{G(),C()},Number(t.autoPlay)))},H=(n=+t.initPage)=>{S(),e.rect=m.value.getBoundingClientRect(),n=Math.min(i.value-1,n),e.width=t.width?+t.width:e.rect.width,e.height=t.height?+t.height:e.rect.height,e.active=n,e.offset=U(e.active),e.moving=!0,A(),C()},re=n=>{t.isPreventDefault&&n.preventDefault(),t.isStopPropagation&&n.stopPropagation(),t.touchable&&(f.start(n),e.touchTime=Date.now(),S(),M())},ue=n=>{t.touchable&&e.moving&&(f.move(n),P.value&&T({offset:p.value}))},ce=n=>{if(!t.touchable||!e.moving)return;const r=p.value/(Date.now()-e.touchTime);if((Math.abs(r)>.3||Math.abs(p.value)>+($.value/2).toFixed(2))&&P.value){let c=0;const w=o.value?f.offsetY.value:f.offsetX.value;t.loop?c=w>0?p.value>0?-1:1:0:c=-Math[p.value>0?"ceil":"floor"](p.value/$.value),T({pace:c,isEmit:!0})}else p.value&&T({pace:0});e.moving=!1,A(),C()};return fe("parent",{props:t,size:$,relation:ae}),oe({prev:se,next:G,to:le}),de(()=>{S()}),ve(()=>{S()}),D(()=>t.initPage,n=>{J(()=>{H(Number(n))})}),D(()=>e.children.length,()=>{J(()=>{H()})}),D(()=>t.autoPlay,n=>{n>0?C():S()}),{state:e,classes:d,classesInner:y,classesPagination:x,container:m,activePagination:R,onTouchStart:re,onTouchMove:ue,onTouchEnd:ce}}});function ke(t,s,l,m,e,f){return h(),g("view",{ref:"container",class:N(t.classes),onTouchstart:s[0]||(s[0]=(...d)=>t.onTouchStart&&t.onTouchStart(...d)),onTouchmove:s[1]||(s[1]=(...d)=>t.onTouchMove&&t.onTouchMove(...d)),onTouchend:s[2]||(s[2]=(...d)=>t.onTouchEnd&&t.onTouchEnd(...d)),onTouchcancel:s[3]||(s[3]=(...d)=>t.onTouchEnd&&t.onTouchEnd(...d))},[b("view",{class:N(t.classesInner),style:Y(t.state.style)},[X(t.$slots,"default")],6),X(t.$slots,"page"),t.paginationVisible&&!t.$slots.page?(h(),g("view",{key:0,class:N(t.classesPagination)},[(h(!0),g(k,null,E(t.state.children.length,(d,o)=>(h(),g("i",{style:Y({backgroundColor:t.activePagination===o?t.paginationColor:"#ddd"}),class:N({active:t.activePagination===o}),key:o},null,6))),128))],2)):he("",!0)],34)}const Pe=te(Ne,[["render",ke]]),_e=t=>t,Ce=_e(Pe),{create:Ve,componentName:Be}=ne("swiper-item"),Ee=Ve({setup(t,{slots:s}){const l=me("parent");l.relation(q());const m=ee({offset:0}),e=v(()=>({[Be]:!0})),f=v(()=>{const o={},y=l==null?void 0:l.props.direction;return l!=null&&l.size.value&&(o[y==="horizontal"?"width":"height"]=`${l==null?void 0:l.size.value}px`),m.offset&&(o.transform=`translate${y==="horizontal"?"X":"Y"}(${m.offset}px)`),o}),d=o=>{m.offset=o};return pe(()=>{l.relation(q(),"unmount")}),oe({setOffset:d}),{style:f,classes:e}}});function xe(t,s,l,m,e,f){return h(),g("view",{class:N(t.classes),style:Y(t.style)},[X(t.$slots,"default")],6)}const Ae=te(Ee,[["render",xe]]),Me=t=>t,ze=Me(Ae);const De="/huada/dist/assets/h_s1-10a55986.png";const Oe=b("img",{src:De,alt:""},null,-1),Fe={class:"tabs"},Ie=["src"],je=["onClick"],qe=["src"],We={__name:"index",setup(t){let s=ge(),l=Z(0);const m=({url:e})=>{s.push(e)};return(e,f)=>{const d=ze,o=Ce;return h(),ye(we,{name:"home-page"},{default:O(()=>[K(o,{class:"swiper","init-page":V(l),"pagination-visible":!0,"pagination-color":"#426543","auto-play":"3000"},{default:O(()=>[(h(),g(k,null,E(4,y=>K(d,{key:y},{default:O(()=>[Oe]),_:2},1024)),64))]),_:1},8,["init-page"]),b("div",Fe,[(h(!0),g(k,null,E(V(Te),(y,x)=>(h(),g(k,{key:x},[b("h3",null,[b("img",{src:V(Q)(y.img),alt:""},null,8,Ie)]),b("ul",null,[(h(!0),g(k,null,E(y.children,(p,P)=>(h(),g("li",{key:P,onClick:i=>m(p)},[b("img",{src:V(Q)(p.img),alt:""},null,8,qe)],8,je))),128))])],64))),128))])]),_:1})}}};export{We as default};
